var HH=HH||{};HH.Frontend=(function(d){var l;var h;var q;var m;var c;var b;var i={baseUrl:HH.Params.iplt20BaseUrl,pulseCssUrl:HH.Params.pulseCssUrl,pulseImgUrl:HH.Params.pulseImgUrl,pulseIcoUrl:HH.Params.pulseIcoUrl,init:function(){this.initMostReadTabs();this.initMostViewedGalleriesTabs();this.initMostWatchedTabs();this.initLatestVideosTabs();this.initVideosTabs();this.teamFilter();this.seasonFilter();this.sortFilter();this.checkSession();this.setFilters();this.bindSearchClick();this.fixCss();this.bindSearchPlayerIconClick();this.bindSearchBox()},bindSearchClick:function(){d('form.header-search-form .glass, form.main-search-form .glass, form.header-search-form button.search, form.main-search-form a.searchBtn, form.header-search-form input[type="submit"]').on("click touchstart",function(){d(this).closest("form").submit()})},clearPhotoList:function(){},setFilters:function(){if(typeof(m)=="undefined"){return}if(typeof(c)=="undefined"){return}if(typeof(b)=="undefined"){return}if(m=="viewed"){d(".tabs a.left").removeClass("selected");d(".tabs a.right").addClass("selected")}if(c!="null"){d("#videoTeamsFilter a.selection").html(c+"<img src='"+self.pulseIcoUrl+"css-support/trans.png'/>")}if(b!="null"){var u=b.split("ipl");if(typeof(u[1])=="undefined"){d("#videoSeasonsFilter a.selection").html("All Seasons<img src='"+self.pulseIcoUrl+"css-support/trans.png'/>")}else{d("#videoSeasonsFilter a.selection").html("IPL "+u[1]+"<img src='"+self.pulseIcoUrl+"css-support/trans.png'/>")}}},initMostReadTabs:function(){var u=this;d(".tabContainer div").first().show();d(".tabs li").click(function(){var v=d(this);d(".tabContent").hide();d(".tabs li").removeClass("selected");v.addClass("selected");tabId=v.find("a").attr("id");tabId=tabId.replace("link_","");d("#"+tabId).show()})},initMostViewedGalleriesTabs:function(){var u=this;d(".tabContainerGalleries div").first().show();d(".gTabs li").click(function(){var v=d(this);d(".tabContentGalleries").hide();d(".gTabs li").removeClass("selected");v.addClass("selected");tabId=v.find("a").attr("id");tabId=tabId.replace("gLink_","");d("#"+tabId).show()})},initMostWatchedTabs:function(){var u=this;d(".tabContainerMW div").first().show();d(".mwTabs li").click(function(){var v=d(this);d(".tabContentMW").hide();d(".mwTabs li").removeClass("selected");v.addClass("selected");tabId=v.find("a").attr("id");tabId=tabId.replace("mwLink_","");d("#"+tabId).show()})},initLatestVideosTabs:function(){var u=this;d(".latestVideo_tabContainer div").first().show();d(".latestVideosTabs li a").click(function(){var v=d(this);d(".latestVideo_tabContent").hide();d(".latestVideosTabs li a").removeClass("active");v.addClass("active");tabId=v.attr("id");tabId=tabId.replace("lvlink_","");d("#"+tabId).show()})},initVideosTabs:function(){var u=this;d("#videos-widget .video_tabContainer div").first().show();d("#videos-widget .video_tabs li a").click(function(){var v=d(this);d("#videos-widget .video_tabContent").hide();d("#videos-widget .video_tabs li").removeClass("selected");v.parent().addClass("selected");tabId=v.attr("id");tabId=tabId.replace("link_","");d("#"+tabId).show()})},hideFilterDDList:function(){d(".filterDDList").fadeOut()},showTeams:function(){i.hideFilterDDList();d("#teamsFilter").addClass("open");d("#team-list").fadeToggle()},showSeasons:function(){i.hideFilterDDList();d("#seasonsFilter").addClass("open");d("#season-list").fadeToggle()},showCategories:function(){i.hideFilterDDList();d("#categoryFilter").addClass("open");d("#category-list").fadeToggle()},sortFilter:function(){},teamFilter:function(){var u=this;d("#photoBrowse #teamsFilter .team-filter").click(function(){var w=d(this),v=d("#photoBrowse #teamsFilter a.selection");v.html(w.text()+"<img src='"+u.pulseIcoUrl+"css-support/trans.png'/>");d("#photoBrowse #teamsFilter").removeClass("open");d("#photoBrowse #team-list li.selected").removeClass("selected");w.parent().addClass("selected");d("#photoBrowse #team-list").hide();u.updateListView()})},seasonFilter:function(){var u=this;d("#photoBrowse #seasonsFilter .season-filter").click(function(){var w=d(this),v=d("#photoBrowse #seasonsFilter a.selection");v.html(w.text()+"<img src='"+u.pulseIcoUrl+"css-support/trans.png'/>");d("#photoBrowse #seasonsFilter").removeClass("open");d("#photoBrowse #season-list li.selected").removeClass("selected");w.parent().addClass("selected");d("#photoBrowse #season-list").hide();u.updateListView()})},updateListView:function(){var u=this;var v=d("#teamsFilter li.selected").find("a").attr("id"),y=d("#seasonsFilter li.selected").find("a").attr("id"),x=d("#players").val();var w={teamId:v,seasonId:y,playerName:x};d.ajax({type:"GET",success:function(){d.fn.yiiListView.update("album-list",{data:w})},error:function(z,B,A){}})},storeVideoTagToSesion:function(v){var u=this;d.ajax({type:"POST",url:u.baseUrl+"/videos/storeToSession",data:{type:v[0],id:v[1]},success:function(w){d.fn.yiiListView.update("mediaList",{url:g.ajaxUrl})},error:function(w,y,x){}})},checkSession:function(){d('[id$="albumNav"]').removeClass("active");d("#albumNav_"+l).addClass("active")},fixCss:function(){d("#term_"+h).parent().addClass("selected");d("#team-list").hide();d("#season_"+q).parent().addClass("selected");d("#season-list").hide();d(".pager ul.yiiPager a").on("click",function(){var x=d(this).parents(".list-view").eq(0).find(".items");var u=x.height();var w=x.width();var v='<div style="height:'+u+"px; width:"+w+'px;"></div>';x.html(v)})},bindSearchPlayerIconClick:function(){var u=this;d(".inputContainer .glass").on("click",function(){var w=d(this).parent(),v=w.find("input").attr("value");u.storePlayerNameToSession(v)})},bindSearchBox:function(){d(".masthead .searchBtn, .masthead .search-btn").on("click touchstart",function(){d(this).toggleClass("active");d(".masthead .globalSearch").toggleClass("open");d(".masthead #search-form").toggleClass("active")})},initNewsPager:function(){var v=this;var w=d(".listViewHolder");var u=w.data("listview-id");if(!u){u="news-index"}d("body").on("keydown",".summary input",function(A){if(A.which===13){var z=d.fn.yiiListView.getUrl(u);var y=d(this).val();var x=w.data("query-parameter");var B=v.updateQueryStringParameter(z,x,y);d.fn.yiiListView.update(u,{data:B});d("html, body").animate({scrollTop:0},1000);return false}});d("body").on("click",".pagePagination li",function(){d("html, body").animate({scrollTop:0},500)})},initPager:function(x){var v=this;var w=d(".listViewHolder");var u=w.data("listview-id");if(!u){u=x}d("body").on("keydown",".summary input, .summary .paginationValue",function(C){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){d(".summary input").blur(function(){var H=d.fn.yiiListView.getUrl(u);var G=d(this).val();var F=w.data("query-parameter");var J=v.updateQueryStringParameter(H,F,G);var I=d.fn.yiiListView.settings[u];if(I.enableHistory&&I.ajaxUpdate!==false&&window.History.enabled){if(I.pageVar!==undefined){J+="&"+I.pageVar+"=1"}var H=d.fn.yiiListView.getUrl(u);var K=d.deparam.querystring(d.param.querystring(H,J));delete K[I.ajaxVar];window.History.pushState(null,document.title,decodeURIComponent(d.param.querystring(H.substr(0,H.indexOf("?")),K)))}else{d.fn.yiiListView.update(u,{data:J})}d("html, body").animate({scrollTop:0},1000);return false})}else{if(C.which===13){var A=d.fn.yiiListView.getUrl(u);var z=d(this).val();var y=w.data("query-parameter");var D=v.updateQueryStringParameter(A,y,z);var B=d.fn.yiiListView.settings[u];if(B.enableHistory&&B.ajaxUpdate!==false&&window.History.enabled){if(B.pageVar!==undefined){D+="&"+B.pageVar+"=1"}var A=d.fn.yiiListView.getUrl(u);var E=d.deparam.querystring(d.param.querystring(A,D));delete E[B.ajaxVar];window.History.pushState(null,document.title,decodeURIComponent(d.param.querystring(A.substr(0,A.indexOf("?")),E)))}else{d.fn.yiiListView.update(u,{data:D})}d("html, body").animate({scrollTop:0},1000);return false}}});d("body").on("click",".pagePagination li",function(){d("html, body").animate({scrollTop:0},500)})},updateQueryStringParameter:function(w,u,x){var v=new RegExp("([?&])"+u+"=.*?(&|$)","i");var y=w.indexOf("?")!==-1?"&":"?";if(w.match(v)){return w.replace(v,"$1"+u+"="+x+"$2")}else{return w+y+u+"="+x}}};var f={init:function(){this.onItemClick()},initShareBox:function(){var v=d("#limelight_player_182518");if(v.length>0){var u=v.find("param[name='flashVars']").val().split("&")[1].replace("mediaId=","");title=d(".videoMetaContent").find("h1").text(),url=g.createOldShareUrl(u);this.refreshFBButton(url);this.refreshTweeterButton(url);this.refreshGPluseButton(url)}},onItemClick:function(){var u=this;d("a.videoThumb").on("click",function(){var z=d(this),y=z.attr("data-mediaId"),A=z.attr("data-title"),x=z.attr("data-description"),w="",v=g.createOldShareUrl(y);w+='<object id="myExperience" class="BrightcoveExperience">';w+='<param name="bgcolor" value="#FFFFFF" />';w+='<param name="width" value="768" />';w+='<param name="height" value="432" />';w+='<param name="playerID" value="'+HH.Params.playerId+'" />';w+='<param name="playerKey" value="'+HH.Params.playerKey+'" />';w+='<param name="isVid" value="true" />';w+='<param name="isUI" value="true" />';w+='<param name="dynamicStreaming" value="true" />';w+='<param name="autoStart" value="true" />';w+='<param name="@videoPlayer" value="'+y+'" />';w+="</object>";w+='<script type="text/javascript">$(document).ready(function(){ brightcove.createExperiences(); });<\/script>';d("#main-video-player").html("").html(w);d("div .videoMetaContent h1").html("").html(A);d("div .videoMetaContent p").html("").html(x);u.refreshFBButton(v);u.refreshTweeterButton(v);u.refreshGPluseButton(v);window.scroll(0,0)})},refreshTweeterButton:function(v){var w=d(".twitterShare"),x="",u=HH.Params.hashTag;x+='<a id="t_btn" href="https://twitter.com/share" data-text="Currently watching" class="twitter-share-button" rel="canonical" data-url="'+v+'" data-hashtags="'+u+'">Tweet</a>';x+='<script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script>';w.html("").html(x)},refreshGPluseButton:function(w){var v=d(".plusShare"),u="";u+='<g:plusone size="medium" href="'+w+'"></g:plusone>';u+='<script type="text/javascript" src="https://apis.google.com/js/plusone.js"><\/script>';v.html("").html(u)},refreshFBButton:function(u){var v=HH.Params.fbAppId;d(".fbShare").html('<iframe src="//www.facebook.com/plugins/like.php?href='+u+"&amp;send=false&amp;layout=button_count&amp;width=100&amp;show_faces=false&amp;action=like&amp;colorscheme=dark&amp;font&amp;height=21&amp;appId="+v+'" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100px; height:21px;" allowTransparency="true"></iframe>')}};var g={ajaxUrl:i.baseUrl+"/videos",init:function(){this.onMenuItemClick();this.setHeroVideoThumbClick();this.onVideoItemsClick()},setHeroVideoThumbClick:function(){var u=this;d("body").on({click:function(y){var x=d(this),w={},v=null;y.stopPropagation();w.type="brightcove";w.mediaId=x.data("media-id"),w.title=x.data("title"),w.description=x.data("description"),w.location=x.data("publish-date");w.hashTag=x.data("hashtag");if(HH.VideoModal){v=HH.VideoModal.getInstance();v.embedPlayer(w);v.show()}}},".show-in-modal")},onVideoItemsClick:function(){var u=this;d("#videoIndexFrame .show-in-modal,#videoSearchFrame .show-in-modal, .videoPageHero .show-in-modal").on("click",function(){var w=d(this),x=w.attr("data-title"),v=w.attr("data-media-id");u.refreshUrl("media",v,x)})},onMenuItemClick:function(){var u=this;d("[id^='ch-menu-item_']").click(function(){var v=d(this),x=v.attr("data-cid"),w=v.find("a").text().replace("Arrow","");v.siblings().removeClass("active");v.addClass("active");u.storeChannelToSession(x);u.clearVideoList();u.refreshUrl("channel",x,w)})},storeChannelToSession:function(u){d.ajax({type:"post",url:self.baseUrl+"/videos/storeChannelToSession",data:{channelId:u},success:function(v){d.fn.yiiListView.update("mediaList",{url:g.ajaxUrl})}})},clearVideoList:function(){var u=d("#mediaList");u.html("").css({height:50,width:20})},refreshUrl:function(v,x,w){var u=this.createVideoUrl(v,x,w);if(window.history.pushState){window.history.pushState(null,null,u)}else{document.location=u}},createVideoUrl:function(v,x,w){var u="";if(v=="media"||v=="channel"){u=i.baseUrl+"/videos/"+v+"/id/"+x+"/"+this.seoText(w)}return u},createOldShareUrl:function(u){return i.baseUrl+"/videos/media/id/"+u},seoText:function(z){var w="0123456789abcdefghijklmnopqrstuvxywz- ",v="",y="";for(var x=0,u=z.length;x<u;x++){y=z[x].toLowerCase();if(w.indexOf(y)!=-1){v+=y}}return v.replace(/\ +/g,"-")}};var n={};n.init=function(u,x){var w=this,v=d(u),y=d(x);w.lastClicked=null;v.append(y);d("body").on("click touchstart tap",function(z){w.lastClicked=z.target;if(y.is(":visible")){v.find("a").addClass("dropDown dropdown");if(!d(w.lastClicked).closest(v).length){y.fadeOut();v.find("a").removeClass("dropDown dropdown")}}});v.on("click hover touchstart tap",function(A){var z=d(this);if((z.attr("id")!="menu-item-venues"&&z.attr("id")!="menu-item-more"&&z.attr("id")!="menu-item-pavilion")&&z.hasClass("selected")){return}y.fadeIn()})};var r={init:function(){this.bindEvents()},bindEvents:function(){d("body").on("hh:photolistupdate",function(){var v=d("#gallery-id").text();var u=new HH.PhotoGallery(v);d(".singleImage").on("click",function(){var w=d(this).attr("id").replace("gallery-pt_","");u.open(w)})})}};var p=function(){d(".switchWebsiteViewType").on("click",function(){var v=d(this).data("to"),u=new Date();u.setTime(u.getTime()+14*24*60*60*1000);d.cookie("website_view_type",v,{expires:u,path:"/"});if(window.location.reload){window.location.reload()}else{document.location="http://www.iplt20.com/"}})};var k=function(){setTimeout(function(){if(d(".mobile-menu").is(":visible")){d(".hh-main-navigation #menu-item-more").css("display","none")}},800);d(".masthead .menuBtn").on("click touchstart tap",function(u){u.preventDefault();d(".masthead").toggleClass("mobileMenu");if(d(".masthead").hasClass("mobileMenu")){d("body").css("overflow","hidden")}else{d("body").css("overflow","visible")}});d(".masthead .moreBtn").on("click touchstart tap",function(u){d(".mainNavContent").toggleClass("moreOpen")});d(".masthead .mobile-menu").on("click touchstart tap",function(u){u.preventDefault();d(".masthead .mobile-menu").toggleClass("active");d("#menu-item-more").toggleClass("active");d("form#search-form").toggleClass("active");if(d(".masthead .mobile-menu").hasClass("active")){d("body").css("overflow","hidden");d(".hh-main-navigation #menu-item-more").css("display","block")}else{d("body").css("overflow","visible");d(".hh-main-navigation #menu-item-more").css("display","none")}});d(".socialShare .socialBtn").on("click touchstart tap",function(){d(".socialShare .socialLinks").toggle()});d(".subNav .moreLinksBtn, .subNavLinks .moreLinksBtn").on("click touchstart tap",function(){d(".subNav .moreLinks ul, .subNavLinks .moreLinks ul").toggle();d(this).toggleClass("active")});d(".subNav .current").on("click touchstart tap",function(u){u.preventDefault();d(".subNav .subNavLinks").toggle();d(".subNav .current .icon").toggleClass("drop-down-green drop-up-green")});d("#backToTop").click(function(){d("body, html").animate({scrollTop:0},"slow");return false})};var s={};s.init=function(u,v){if(/Android|webOS|iPhone|iPad|iPoidd|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){d(u).unbind("mouseenter mouseleave");d(u).on("click",function(w){if(d(this).hasClass("dropDown")){d(this).removeClass("dropDown");d(this).find(v).css("display","none")}else{d(this).addClass("dropDown");d(this).find(v).css("display","block")}})}};var j={};j.init=function(u,v){$selector=d(u),$dropDown=d(v);d("body").on("click",$selector,function(){var x=d(this),w=d(v);if(x.hasClass("open")){d("body").css({overflow:"visible"});w.css("display","none");x.removeClass("open");d("header.mobileMenu").removeClass("open")}else{d("body").css({overflow:"hidden"});d(".mainNav").toggle();x.toggleClass("open");d("header.mobileMenu").toggleClass("open")}})};var o={};o.init=function(){d("#share-fb, .newsArticleBlock:not(.nextArticleBlock) .sh1 .share-fb, .newsArticleBlock:not(.nextArticleBlock) .sh2 .share-fb").on("click touchstart tap",function(){var u=d(this).attr("data-url");var v=d(this).attr("data-text");FB.ui({method:"share",href:u,},function(w){})})};var t={};t.init=function(){d("#share-twitter").on("click touchstart tap",function(){var v=d(this).attr("data-url");var w=d(this).attr("data-text");var u="https://twitter.com/intent/tweet?url="+v;if(typeof(w)!="undefined"&&w!=null){var u="https://twitter.com/intent/tweet?url="+v+"&text="+w}d(this).attr("href",u)})};var e={};e.init=function(){d("#share-gplus").on("click touchstart tap",function(){var v=d(this).attr("data-url");var w=d(this).attr("data-text");var u="https://plus.google.com/share?url="+v;d(this).attr("href",u);window.open(this.href,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600");return false})};var a={};a.init=function(){d("#read-comments").on("click",function(){d(".comment-box").show("slow");d(this).hide();d(".fb-comments, .fb-comments iframe[style], .fb-comments span").css("width","100% !important");d("#hide-comments").show()});d("#hide-comments").on("click",function(){d(".comment-box").hide("slow");d(this).hide();d("#read-comments").show()})};return{CMAui:i,ViPlayer:f,DropDownMenu:n,Videos:g,Photos:r,viewTypeSwitch:p,MainNavigation:k,UnbindHover:s,PostToFacebook:o,PostToTwitter:t,PostToGooglePlus:e,ArticleCommentBox:a}})(jQuery);$(document).ready(function(){HH.Frontend.CMAui.init();HH.Frontend.ViPlayer.init();HH.Frontend.Videos.init();HH.Frontend.Photos.init();HH.Frontend.ViPlayer.initShareBox();HH.Frontend.DropDownMenu.init("#menu-item-venues",".venuesDropDown");HH.Frontend.DropDownMenu.init("#menu-item-teams",".teamDropDown");HH.Frontend.DropDownMenu.init("#menu-item-pavilion",".pavilionDropDown");HH.Frontend.DropDownMenu.init("#menu-item-more",".moreDropDown");HH.Frontend.viewTypeSwitch();HH.Frontend.MainNavigation();HH.Frontend.UnbindHover.init("#menu-item-teams","#teams-drop-down");HH.Frontend.UnbindHover.init("#menu-item-venues","#venues-drop-down");HH.Frontend.UnbindHover.init("#menu-item-pavilion","#pavilion-drop-down");HH.Frontend.UnbindHover.init("#menu-item-more","#more-drop-down");HH.Frontend.PostToFacebook.init();HH.Frontend.PostToTwitter.init();HH.Frontend.PostToGooglePlus.init();$("#backToTop").click(function(){$("body, html").animate({scrollTop:0},"slow");return false})});